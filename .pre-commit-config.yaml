exclude: ^subtree/
repos:
-   repo: https://github.com/ambv/black
    rev: 22.3.0
    hooks:
    - id: black
      args:
          - "--line-length=100"
      language_version: python3
-   repo: https://gitlab.com/pycqa/flake8
    rev: 3.8.3
    hooks:
    - id: flake8
      args:
        - "--max-line-length=100"
        # Handled by black:
        # E501: Line too long
        # E127: continuation line over-indented for visual indent
        # E128: continuation line under-indented for visual indent
        # E203 whitespace before ':'
        # W503 line break before binary operator
        # Misc:
        # E266 too many leading '#' for block comment
        - "--ignore=E501,E127,E128,E203,W503,E266"
-   repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v2.2.3  # Use the ref you want to point at
    hooks:
    - id: mixed-line-ending
    - id: trailing-whitespace
-   repo: https://github.com/pre-commit/mirrors-mypy
    rev: v0.971
    hooks:
    - id: mypy
      additional_dependencies: [
        "typing_extensions",
        "types-requests",
        "hypercorn==0.13.2",
        "quart_trio==0.9.1",
        "pytest_trio"
      ]
